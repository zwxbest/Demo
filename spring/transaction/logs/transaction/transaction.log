2019-03-28 13:01:50 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NoTransCallTest], using SpringBootContextLoader
2019-03-28 13:01:50 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NoTransCallTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:01:50 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:01:51 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@43df23d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6d60fe40, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@792b749c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@23e84203, org.springframework.test.context.support.DirtiesContextTestExecutionListener@19932c16, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73eb439a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@514646ef, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@305ffe9e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@35841320]
2019-03-28 13:01:52 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 15858 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:01:52 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:01:53 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:01:53 CST 2019]; root of context hierarchy
2019-03-28 13:01:56 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[WARN] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transServiceImpl': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.tuowazi.tranaction.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-03-28 13:01:56 [org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener]-[INFO] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-03-28 13:01:56 [org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter]-[ERROR] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userService in com.tuowazi.tranaction.base.TransServiceImpl required a bean of type 'com.tuowazi.tranaction.UserService' that could not be found.


Action:

Consider defining a bean of type 'com.tuowazi.tranaction.UserService' in your configuration.

2019-03-28 13:01:56 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 15858 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:01:56 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:01:56 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@971e903: startup date [Thu Mar 28 13:01:56 CST 2019]; root of context hierarchy
2019-03-28 13:01:57 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[WARN] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transServiceImpl': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.tuowazi.tranaction.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-03-28 13:01:57 [org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener]-[INFO] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-03-28 13:01:57 [org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter]-[ERROR] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userService in com.tuowazi.tranaction.base.TransServiceImpl required a bean of type 'com.tuowazi.tranaction.UserService' that could not be found.


Action:

Consider defining a bean of type 'com.tuowazi.tranaction.UserService' in your configuration.

2019-03-28 13:01:57 [org.springframework.test.context.TestContextManager]-[ERROR] - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@23e84203] to prepare test instance [com.tuowazi.tranaction.service.NoTransCallTest@75fc1992]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) ~[junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) ~[junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) ~[junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) ~[junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) ~[junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) ~[junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) ~[junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) ~[junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) ~[junit-rt.jar:?]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:?]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:?]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:?]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transServiceImpl': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.tuowazi.tranaction.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) ~[spring-boot-test-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	... 25 more
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.tuowazi.tranaction.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1506) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1101) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:583) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) ~[spring-boot-test-2.0.4.RELEASE.jar:2.0.4.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	... 25 more
2019-03-28 13:02:53 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NoTransCallTest], using SpringBootContextLoader
2019-03-28 13:02:53 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NoTransCallTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:02:53 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:02:53 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@43df23d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6d60fe40, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@792b749c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@23e84203, org.springframework.test.context.support.DirtiesContextTestExecutionListener@19932c16, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73eb439a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@514646ef, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@305ffe9e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@35841320]
2019-03-28 13:02:54 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 16016 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:02:54 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:02:54 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:02:54 CST 2019]; root of context hierarchy
2019-03-28 13:02:57 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Started NoTransCallTest in 4.218 seconds (JVM running for 7.937)
2019-03-28 13:02:57 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredTrans]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:02:57 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:02:58 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:02:58 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1481731217 wrapping com.mysql.jdbc.JDBC4Connection@7c129ef6] for JDBC transaction
2019-03-28 13:02:58 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1481731217 wrapping com.mysql.jdbc.JDBC4Connection@7c129ef6] to manual commit
2019-03-28 13:02:58 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:02:58 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:02:58 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1481731217 wrapping com.mysql.jdbc.JDBC4Connection@7c129ef6]
2019-03-28 13:02:58 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1481731217 wrapping com.mysql.jdbc.JDBC4Connection@7c129ef6] after transaction
2019-03-28 13:02:58 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:02:58 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:02:54 CST 2019]; root of context hierarchy
2019-03-28 13:02:58 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:02:58 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:03:12 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NoTransCallTest], using SpringBootContextLoader
2019-03-28 13:03:12 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NoTransCallTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:03:12 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:03:12 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@70ed52de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@496bc455, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59402b8f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7188af83, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6be968ce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7c37508a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@247310d0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1033576a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@303cf2ba, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@76494737, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4a003cbe, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4082ba93]
2019-03-28 13:03:13 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 16123 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:03:13 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:03:13 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1fc32e4f: startup date [Thu Mar 28 13:03:13 CST 2019]; root of context hierarchy
2019-03-28 13:03:16 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Started NoTransCallTest in 3.411 seconds (JVM running for 5.376)
2019-03-28 13:03:16 [com.tuowazi.tranaction.service.NoTransCallTest]-[ERROR] - 外层无事物,抛出异常
2019-03-28 13:03:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:03:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:03:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:03:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:03:17 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader]-[INFO] - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Should roll back transaction but cannot - no transaction available
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredTrans]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@12968227] for JDBC transaction
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@12968227] to manual commit
2019-03-28 13:03:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@12968227]
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@12968227] after transaction
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredNewTrans]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT; ''
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@297031141 wrapping com.mysql.jdbc.JDBC4Connection@12968227] for JDBC transaction
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@297031141 wrapping com.mysql.jdbc.JDBC4Connection@12968227] to manual commit
2019-03-28 13:03:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@297031141 wrapping com.mysql.jdbc.JDBC4Connection@12968227]
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@297031141 wrapping com.mysql.jdbc.JDBC4Connection@12968227] after transaction
2019-03-28 13:03:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Should roll back transaction but cannot - no transaction available
2019-03-28 13:03:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Should roll back transaction but cannot - no transaction available
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.nestedTrans]: PROPAGATION_NESTED,ISOLATION_DEFAULT; ''
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@396821493 wrapping com.mysql.jdbc.JDBC4Connection@12968227] for JDBC transaction
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@396821493 wrapping com.mysql.jdbc.JDBC4Connection@12968227] to manual commit
2019-03-28 13:03:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@396821493 wrapping com.mysql.jdbc.JDBC4Connection@12968227]
2019-03-28 13:03:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@396821493 wrapping com.mysql.jdbc.JDBC4Connection@12968227] after transaction
2019-03-28 13:03:17 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@1fc32e4f: startup date [Thu Mar 28 13:03:13 CST 2019]; root of context hierarchy
2019-03-28 13:03:17 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:03:17 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:04:20 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NoTransCallTest], using SpringBootContextLoader
2019-03-28 13:04:20 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NoTransCallTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:04:21 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:04:21 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@70ed52de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@496bc455, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59402b8f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7188af83, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6be968ce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7c37508a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@247310d0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1033576a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@303cf2ba, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@76494737, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4a003cbe, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4082ba93]
2019-03-28 13:04:22 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 16253 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:04:22 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:04:22 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2f67b837: startup date [Thu Mar 28 13:04:22 CST 2019]; root of context hierarchy
2019-03-28 13:04:24 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Started NoTransCallTest in 3.475 seconds (JVM running for 5.58)
2019-03-28 13:04:25 [com.tuowazi.tranaction.service.NoTransCallTest]-[ERROR] - 外层无事物,抛出异常
2019-03-28 13:04:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:04:25 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:04:26 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredTrans]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@2013853240 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] for JDBC transaction
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@2013853240 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] to manual commit
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:04:26 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader]-[INFO] - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@2013853240 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead]
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@2013853240 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] after transaction
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredNewTrans]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT; ''
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] for JDBC transaction
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] to manual commit
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead]
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@27818833 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] after transaction
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Should roll back transaction but cannot - no transaction available
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Should roll back transaction but cannot - no transaction available
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.nestedTrans]: PROPAGATION_NESTED,ISOLATION_DEFAULT; ''
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1202168065 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] for JDBC transaction
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1202168065 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] to manual commit
2019-03-28 13:04:26 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1202168065 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead]
2019-03-28 13:04:26 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1202168065 wrapping com.mysql.jdbc.JDBC4Connection@62d73ead] after transaction
2019-03-28 13:04:26 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2f67b837: startup date [Thu Mar 28 13:04:22 CST 2019]; root of context hierarchy
2019-03-28 13:04:26 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:04:26 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:05:29 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NoTransCallTest], using SpringBootContextLoader
2019-03-28 13:05:29 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NoTransCallTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:05:29 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:05:29 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@496bc455, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59402b8f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7188af83, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6be968ce, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c37508a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@247310d0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1033576a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@303cf2ba, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76494737, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4a003cbe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4082ba93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@17fc391b]
2019-03-28 13:05:30 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 16369 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:05:30 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:05:30 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2f67b837: startup date [Thu Mar 28 13:05:30 CST 2019]; root of context hierarchy
2019-03-28 13:05:34 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Started NoTransCallTest in 4.022 seconds (JVM running for 6.18)
2019-03-28 13:05:34 [com.tuowazi.tranaction.service.NoTransCallTest]-[ERROR] - 外层无事物,抛出异常
2019-03-28 13:05:34 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:34 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:05:35 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredTrans]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@389519344 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] for JDBC transaction
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@389519344 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] to manual commit
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@389519344 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345]
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@389519344 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] after transaction
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.requiredNewTrans]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT; ''
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1329492804 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] for JDBC transaction
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1329492804 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] to manual commit
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1329492804 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345]
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1329492804 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] after transaction
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [TransCallServiceImpl.nestedTrans]: PROPAGATION_NESTED,ISOLATION_DEFAULT; ''
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@904409454 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] for JDBC transaction
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@904409454 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] to manual commit
2019-03-28 13:05:35 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:05:35 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@904409454 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345]
2019-03-28 13:05:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@904409454 wrapping com.mysql.jdbc.JDBC4Connection@3c35c345] after transaction
2019-03-28 13:05:36 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:05:36 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:05:36 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2f67b837: startup date [Thu Mar 28 13:05:30 CST 2019]; root of context hierarchy
2019-03-28 13:05:36 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:05:36 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:21:10 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.TransCallTransTest], using SpringBootContextLoader
2019-03-28 13:21:10 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.TransCallTransTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:21:10 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:21:10 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@496bc455, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59402b8f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7188af83, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6be968ce, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c37508a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@247310d0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1033576a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@303cf2ba, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76494737, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4a003cbe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4082ba93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@17fc391b]
2019-03-28 13:21:11 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - Starting TransCallTransTest on zhenyu-All-Series with PID 17279 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:21:11 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:21:11 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1869fbd2: startup date [Thu Mar 28 13:21:11 CST 2019]; root of context hierarchy
2019-03-28 13:21:14 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - Started TransCallTransTest in 4.113 seconds (JVM running for 7.24)
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callMandatory]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:15 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:21:15 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1664757401 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1664757401 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:21:15 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1664757401 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1664757401 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:15 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:21:15 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNever]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1693540983 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1693540983 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1693540983 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1693540983 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:15 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callRequired]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:21:15 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:15 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callRequiredNew]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1920098017 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1920098017 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction, creating new transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.requiredNewTrans]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1088818894 wrapping com.mysql.jdbc.JDBC4Connection@3f9270ed] for JDBC transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1088818894 wrapping com.mysql.jdbc.JDBC4Connection@3f9270ed] to manual commit
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1088818894 wrapping com.mysql.jdbc.JDBC4Connection@3f9270ed]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1088818894 wrapping com.mysql.jdbc.JDBC4Connection@3f9270ed] after transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1920098017 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1920098017 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNotSupported]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@2018664185 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@2018664185 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@2018664185 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@2018664185 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callSupports]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1658520865 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1658520865 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1658520865 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1658520865 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNested]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] for JDBC transaction
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] to manual commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating nested transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.nestedTrans]
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing transaction savepoint
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@367d2816]
2019-03-28 13:21:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@367d2816] after transaction
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:21:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:21:16 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@1869fbd2: startup date [Thu Mar 28 13:21:11 CST 2019]; root of context hierarchy
2019-03-28 13:21:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:21:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:24:18 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NoTransCallTest], using SpringBootContextLoader
2019-03-28 13:24:18 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NoTransCallTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:24:18 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:24:18 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7c37508a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@247310d0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1033576a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@303cf2ba, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76494737, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4a003cbe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4082ba93, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@17fc391b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b30a42c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@609e8838, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@359df09a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@43df23d3]
2019-03-28 13:24:19 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.TransCallTransTest], using SpringBootContextLoader
2019-03-28 13:24:19 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.TransCallTransTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:24:19 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:24:19 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1972e513, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ae0a9ec, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@61c4eee0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6f10d5b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1040be71, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@548a24a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@433defed, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2a693f59, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f4faf53, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7fd50002, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@533bda92]
2019-03-28 13:24:20 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Starting NoTransCallTest on zhenyu-All-Series with PID 17478 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:24:20 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:24:20 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@35432107: startup date [Thu Mar 28 13:24:20 CST 2019]; root of context hierarchy
2019-03-28 13:24:23 [com.tuowazi.tranaction.service.NoTransCallTest]-[INFO] - Started NoTransCallTest in 4.18 seconds (JVM running for 6.928)
2019-03-28 13:24:23 [com.tuowazi.tranaction.service.NoTransCallTest]-[ERROR] - 外层无事物,抛出异常
2019-03-28 13:24:23 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:23 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:24:23 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.requiredTrans]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.requiredNewTrans]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1127866590 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1127866590 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1127866590 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1127866590 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.nestedTrans]: PROPAGATION_NESTED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@934640468 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@934640468 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@934640468 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@934640468 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callMandatory]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@973174587 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@973174587 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@973174587 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@973174587 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNever]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@2071364564 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@2071364564 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@2071364564 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@2071364564 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.TransCallTransTest]-[ERROR] - 外层有事务,never抛出异常
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callRequired]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1848900782 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1848900782 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1848900782 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1848900782 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callRequiredNew]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1143135560 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1143135560 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction, creating new transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.requiredNewTrans]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@7752890 wrapping com.mysql.jdbc.JDBC4Connection@523d6bdb] for JDBC transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@7752890 wrapping com.mysql.jdbc.JDBC4Connection@523d6bdb] to manual commit
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@7752890 wrapping com.mysql.jdbc.JDBC4Connection@523d6bdb]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@7752890 wrapping com.mysql.jdbc.JDBC4Connection@523d6bdb] after transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1143135560 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1143135560 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNotSupported]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1223399478 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1223399478 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1223399478 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1223399478 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callSupports]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@105194717 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@105194717 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@105194717 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@105194717 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNested]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1056889967 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] for JDBC transaction
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1056889967 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] to manual commit
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating nested transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.nestedTrans]
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing transaction savepoint
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1056889967 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b]
2019-03-28 13:24:25 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1056889967 wrapping com.mysql.jdbc.JDBC4Connection@3ab6678b] after transaction
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:24:25 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:24:25 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@35432107: startup date [Thu Mar 28 13:24:20 CST 2019]; root of context hierarchy
2019-03-28 13:24:25 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:24:25 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:32:13 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:32:13 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:32:13 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:32:13 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@23e84203, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19932c16, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73eb439a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@514646ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@305ffe9e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@302c971f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1972e513, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@61c4eee0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6f10d5b6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1040be71]
2019-03-28 13:32:14 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 17991 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:32:14 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:32:14 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@4ae9cfc1: startup date [Thu Mar 28 13:32:14 CST 2019]; root of context hierarchy
2019-03-28 13:32:16 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 2.443 seconds (JVM running for 3.745)
2019-03-28 13:32:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:32:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:32:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:32:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1419166053 wrapping com.mysql.jdbc.JDBC4Connection@51a8313b] for JDBC transaction
2019-03-28 13:32:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1419166053 wrapping com.mysql.jdbc.JDBC4Connection@51a8313b] to manual commit
2019-03-28 13:32:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:32:16 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:32:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:32:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1419166053 wrapping com.mysql.jdbc.JDBC4Connection@51a8313b]
2019-03-28 13:32:16 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1419166053 wrapping com.mysql.jdbc.JDBC4Connection@51a8313b] after transaction
2019-03-28 13:32:16 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:32:16 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@4ae9cfc1: startup date [Thu Mar 28 13:32:14 CST 2019]; root of context hierarchy
2019-03-28 13:32:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:32:16 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:33:26 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:33:26 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:33:26 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:33:26 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@359df09a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@43df23d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6d60fe40, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@792b749c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@23e84203, org.springframework.test.context.transaction.TransactionalTestExecutionListener@19932c16, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73eb439a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@514646ef, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@305ffe9e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7ae0a9ec]
2019-03-28 13:33:26 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 18133 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:33:26 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:33:26 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7a362b6b: startup date [Thu Mar 28 13:33:26 CST 2019]; root of context hierarchy
2019-03-28 13:33:28 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.527 seconds (JVM running for 2.39)
2019-03-28 13:33:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:33:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:33:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:33:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@704894556 wrapping com.mysql.jdbc.JDBC4Connection@6642dc5a] for JDBC transaction
2019-03-28 13:33:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@704894556 wrapping com.mysql.jdbc.JDBC4Connection@6642dc5a] to manual commit
2019-03-28 13:33:28 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:33:28 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:33:28 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:33:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:33:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@704894556 wrapping com.mysql.jdbc.JDBC4Connection@6642dc5a]
2019-03-28 13:33:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@704894556 wrapping com.mysql.jdbc.JDBC4Connection@6642dc5a] after transaction
2019-03-28 13:33:28 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:33:28 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@7a362b6b: startup date [Thu Mar 28 13:33:26 CST 2019]; root of context hierarchy
2019-03-28 13:33:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:33:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:33:54 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:33:54 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:33:54 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:33:54 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 13:33:55 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 18206 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:33:55 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:33:55 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:33:55 CST 2019]; root of context hierarchy
2019-03-28 13:33:56 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.558 seconds (JVM running for 2.433)
2019-03-28 13:33:56 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:33:56 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:33:56 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:33:56 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1878677242 wrapping com.mysql.jdbc.JDBC4Connection@6c575325] for JDBC transaction
2019-03-28 13:33:56 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1878677242 wrapping com.mysql.jdbc.JDBC4Connection@6c575325] to manual commit
2019-03-28 13:33:56 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:33:56 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:33:56 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:33:56 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1878677242 wrapping com.mysql.jdbc.JDBC4Connection@6c575325]
2019-03-28 13:33:56 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1878677242 wrapping com.mysql.jdbc.JDBC4Connection@6c575325] after transaction
2019-03-28 13:33:56 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:33:56 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:33:56 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:33:55 CST 2019]; root of context hierarchy
2019-03-28 13:33:56 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:33:56 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:34:58 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:34:58 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:34:58 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:34:58 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@359df09a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@43df23d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6d60fe40, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@792b749c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@23e84203, org.springframework.test.context.transaction.TransactionalTestExecutionListener@19932c16, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73eb439a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@514646ef, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@305ffe9e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7ae0a9ec]
2019-03-28 13:34:59 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 18309 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:34:59 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:34:59 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@60df60da: startup date [Thu Mar 28 13:34:59 CST 2019]; root of context hierarchy
2019-03-28 13:35:01 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 2.95 seconds (JVM running for 4.725)
2019-03-28 13:35:01 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireNotCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:35:01 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:35:02 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:35:02 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7] for JDBC transaction
2019-03-28 13:35:02 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7] to manual commit
2019-03-28 13:35:02 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:35:02 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:35:02 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7]
2019-03-28 13:35:02 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7] after transaction
2019-03-28 13:35:02 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[ERROR] - catch requireNotCatchException
2019-03-28 13:35:02 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:35:02 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:35:02 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@60df60da: startup date [Thu Mar 28 13:34:59 CST 2019]; root of context hierarchy
2019-03-28 13:35:02 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:35:02 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:35:12 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:35:12 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:35:13 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:35:13 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@359df09a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@43df23d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6d60fe40, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@792b749c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@23e84203, org.springframework.test.context.transaction.TransactionalTestExecutionListener@19932c16, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73eb439a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@514646ef, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@305ffe9e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7ae0a9ec]
2019-03-28 13:35:13 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 18396 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:35:13 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:35:13 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7a362b6b: startup date [Thu Mar 28 13:35:13 CST 2019]; root of context hierarchy
2019-03-28 13:35:16 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 3.564 seconds (JVM running for 5.164)
2019-03-28 13:35:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:35:17 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:35:17 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:35:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1320443884 wrapping com.mysql.jdbc.JDBC4Connection@211febf3] for JDBC transaction
2019-03-28 13:35:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1320443884 wrapping com.mysql.jdbc.JDBC4Connection@211febf3] to manual commit
2019-03-28 13:35:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:35:17 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:35:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:35:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1320443884 wrapping com.mysql.jdbc.JDBC4Connection@211febf3]
2019-03-28 13:35:17 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1320443884 wrapping com.mysql.jdbc.JDBC4Connection@211febf3] after transaction
2019-03-28 13:35:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:35:17 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:35:17 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@7a362b6b: startup date [Thu Mar 28 13:35:13 CST 2019]; root of context hierarchy
2019-03-28 13:35:17 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:35:17 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:38:34 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:38:34 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:38:34 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:38:34 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@23e84203, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19932c16, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73eb439a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@514646ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@305ffe9e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@302c971f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1972e513, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@61c4eee0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6f10d5b6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1040be71]
2019-03-28 13:38:34 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 18668 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:38:34 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:38:34 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@512baff6: startup date [Thu Mar 28 13:38:34 CST 2019]; root of context hierarchy
2019-03-28 13:38:36 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.697 seconds (JVM running for 2.617)
2019-03-28 13:38:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:38:36 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:38:36 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:38:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1906029492 wrapping com.mysql.jdbc.JDBC4Connection@52cb4f50] for JDBC transaction
2019-03-28 13:38:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1906029492 wrapping com.mysql.jdbc.JDBC4Connection@52cb4f50] to manual commit
2019-03-28 13:38:36 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:38:36 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:38:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:38:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1906029492 wrapping com.mysql.jdbc.JDBC4Connection@52cb4f50]
2019-03-28 13:38:36 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1906029492 wrapping com.mysql.jdbc.JDBC4Connection@52cb4f50] after transaction
2019-03-28 13:38:36 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:38:36 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:38:36 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@512baff6: startup date [Thu Mar 28 13:38:34 CST 2019]; root of context hierarchy
2019-03-28 13:38:36 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:38:36 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:39:41 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:39:41 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:39:41 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:39:41 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 13:39:41 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 18803 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:39:41 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:39:41 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:39:41 CST 2019]; root of context hierarchy
2019-03-28 13:39:43 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.622 seconds (JVM running for 2.57)
2019-03-28 13:39:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:39:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:39:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:39:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7] for JDBC transaction
2019-03-28 13:39:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7] to manual commit
2019-03-28 13:39:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:39:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:39:43 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:39:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:39:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7]
2019-03-28 13:39:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@537524656 wrapping com.mysql.jdbc.JDBC4Connection@50d951e7] after transaction
2019-03-28 13:39:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:39:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:39:43 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:39:41 CST 2019]; root of context hierarchy
2019-03-28 13:39:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:39:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:42:22 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:42:22 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:42:22 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:42:22 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7188af83, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6be968ce, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7c37508a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@247310d0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1033576a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@303cf2ba, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76494737, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a003cbe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4082ba93, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@17fc391b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b30a42c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@609e8838]
2019-03-28 13:42:22 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 19006 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:42:22 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:42:22 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6af9fcb2: startup date [Thu Mar 28 13:42:22 CST 2019]; root of context hierarchy
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.525 seconds (JVM running for 2.48)
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:42:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:42:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@102577332 wrapping com.mysql.jdbc.JDBC4Connection@588307f7] for JDBC transaction
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@102577332 wrapping com.mysql.jdbc.JDBC4Connection@588307f7] to manual commit
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@102577332 wrapping com.mysql.jdbc.JDBC4Connection@588307f7]
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@102577332 wrapping com.mysql.jdbc.JDBC4Connection@588307f7] after transaction
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireNotCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@588307f7] for JDBC transaction
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@588307f7] to manual commit
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@588307f7]
2019-03-28 13:42:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1309956586 wrapping com.mysql.jdbc.JDBC4Connection@588307f7] after transaction
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[ERROR] - catch requireNotCatchException
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:42:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:42:24 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6af9fcb2: startup date [Thu Mar 28 13:42:22 CST 2019]; root of context hierarchy
2019-03-28 13:42:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:42:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:46:25 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:46:25 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:46:25 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:46:25 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 13:46:26 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Starting RequiredNewTransExceptionTest on zhenyu-All-Series with PID 19285 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:46:26 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:46:26 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:46:26 CST 2019]; root of context hierarchy
2019-03-28 13:46:28 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Started RequiredNewTransExceptionTest in 2.612 seconds (JVM running for 4.084)
2019-03-28 13:46:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredNewTransException.outerException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:46:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:46:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:46:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656] for JDBC transaction
2019-03-28 13:46:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656] to manual commit
2019-03-28 13:46:28 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:46:28 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:46:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:46:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656]
2019-03-28 13:46:28 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656] after transaction
2019-03-28 13:46:28 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:46:28 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:46:26 CST 2019]; root of context hierarchy
2019-03-28 13:46:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:46:28 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:46:56 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:46:56 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:46:56 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:46:57 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 13:46:57 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Starting RequiredNewTransExceptionTest on zhenyu-All-Series with PID 19365 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:46:57 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:46:57 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@14fc1f0: startup date [Thu Mar 28 13:46:57 CST 2019]; root of context hierarchy
2019-03-28 13:46:59 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Started RequiredNewTransExceptionTest in 1.98 seconds (JVM running for 3.151)
2019-03-28 13:46:59 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredNewTransException.outerException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:46:59 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:46:59 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:46:59 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@2060432982 wrapping com.mysql.jdbc.JDBC4Connection@2e5ee2c9] for JDBC transaction
2019-03-28 13:46:59 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@2060432982 wrapping com.mysql.jdbc.JDBC4Connection@2e5ee2c9] to manual commit
2019-03-28 13:46:59 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:46:59 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:46:59 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:46:59 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@2060432982 wrapping com.mysql.jdbc.JDBC4Connection@2e5ee2c9]
2019-03-28 13:46:59 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@2060432982 wrapping com.mysql.jdbc.JDBC4Connection@2e5ee2c9] after transaction
2019-03-28 13:46:59 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[ERROR] - requiredNewTransException.outerException
2019-03-28 13:46:59 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:46:59 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:46:59 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@14fc1f0: startup date [Thu Mar 28 13:46:57 CST 2019]; root of context hierarchy
2019-03-28 13:46:59 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:46:59 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:51:50 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:51:50 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:51:50 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:51:50 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 13:51:51 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Starting RequiredNewTransExceptionTest on zhenyu-All-Series with PID 19647 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:51:51 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:51:51 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:51:51 CST 2019]; root of context hierarchy
2019-03-28 13:51:54 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Started RequiredNewTransExceptionTest in 3.749 seconds (JVM running for 6.271)
2019-03-28 13:51:54 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredNewTransException.innerException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:51:54 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:51:55 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:51:55 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@745205026 wrapping com.mysql.jdbc.JDBC4Connection@e322ec9] for JDBC transaction
2019-03-28 13:51:55 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@745205026 wrapping com.mysql.jdbc.JDBC4Connection@e322ec9] to manual commit
2019-03-28 13:51:55 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:51:55 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'dick' )
2019-03-28 13:51:55 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:51:55 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:51:55 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@745205026 wrapping com.mysql.jdbc.JDBC4Connection@e322ec9]
2019-03-28 13:51:55 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@745205026 wrapping com.mysql.jdbc.JDBC4Connection@e322ec9] after transaction
2019-03-28 13:51:55 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[ERROR] - requiredNewTransException.innerException
2019-03-28 13:51:55 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:51:55 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:51:55 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:51:51 CST 2019]; root of context hierarchy
2019-03-28 13:51:55 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:51:55 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:54:05 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.TransCallTransTest], using SpringBootContextLoader
2019-03-28 13:54:05 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.TransCallTransTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:54:05 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:54:05 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 13:54:05 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - Starting TransCallTransTest on zhenyu-All-Series with PID 19899 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:54:05 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:54:05 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:54:05 CST 2019]; root of context hierarchy
2019-03-28 13:54:07 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - Started TransCallTransTest in 1.637 seconds (JVM running for 2.538)
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callRequiredNew]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:54:07 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:54:07 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1258103238 wrapping com.mysql.jdbc.JDBC4Connection@4d0753c9] for JDBC transaction
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1258103238 wrapping com.mysql.jdbc.JDBC4Connection@4d0753c9] to manual commit
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction, creating new transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.requiredNewTrans]
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1107275448 wrapping com.mysql.jdbc.JDBC4Connection@43f0c2d1] for JDBC transaction
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1107275448 wrapping com.mysql.jdbc.JDBC4Connection@43f0c2d1] to manual commit
2019-03-28 13:54:07 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1107275448 wrapping com.mysql.jdbc.JDBC4Connection@43f0c2d1]
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1107275448 wrapping com.mysql.jdbc.JDBC4Connection@43f0c2d1] after transaction
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1258103238 wrapping com.mysql.jdbc.JDBC4Connection@4d0753c9]
2019-03-28 13:54:07 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1258103238 wrapping com.mysql.jdbc.JDBC4Connection@4d0753c9] after transaction
2019-03-28 13:54:07 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:54:07 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:54:07 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 13:54:05 CST 2019]; root of context hierarchy
2019-03-28 13:54:07 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:54:07 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 13:58:38 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 13:58:38 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 13:58:38 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 13:58:38 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7188af83, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6be968ce, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7c37508a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@247310d0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1033576a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@303cf2ba, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76494737, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a003cbe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4082ba93, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@17fc391b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b30a42c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@609e8838]
2019-03-28 13:58:38 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 20187 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 13:58:38 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 13:58:38 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6af9fcb2: startup date [Thu Mar 28 13:58:38 CST 2019]; root of context hierarchy
2019-03-28 13:58:39 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.62 seconds (JVM running for 2.528)
2019-03-28 13:58:39 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:58:39 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 13:58:40 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@2089360295 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] for JDBC transaction
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@2089360295 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] to manual commit
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating transaction failed - marking existing transaction as rollback-only
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Setting JDBC transaction [HikariProxyConnection@2089360295 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] rollback-only
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Global transaction is marked as rollback-only but transactional code requested commit
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@2089360295 wrapping com.mysql.jdbc.JDBC4Connection@6240651f]
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@2089360295 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] after transaction
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireNotCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1605128733 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] for JDBC transaction
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1605128733 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] to manual commit
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating transaction failed - marking existing transaction as rollback-only
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Setting JDBC transaction [HikariProxyConnection@1605128733 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] rollback-only
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1605128733 wrapping com.mysql.jdbc.JDBC4Connection@6240651f]
2019-03-28 13:58:40 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1605128733 wrapping com.mysql.jdbc.JDBC4Connection@6240651f] after transaction
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[ERROR] - catch requireNotCatchException
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 13:58:40 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 13:58:40 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6af9fcb2: startup date [Thu Mar 28 13:58:38 CST 2019]; root of context hierarchy
2019-03-28 13:58:40 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 13:58:40 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 14:00:22 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest], using SpringBootContextLoader
2019-03-28 14:00:22 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 14:00:22 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 14:00:22 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73eb439a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@514646ef, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@305ffe9e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@302c971f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1972e513, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ae0a9ec, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@35841320, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@61c4eee0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6f10d5b6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1040be71, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@548a24a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@433defed]
2019-03-28 14:00:22 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Starting RequiredTransExceptionTest on zhenyu-All-Series with PID 20335 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 14:00:22 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 14:00:22 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@632ceb35: startup date [Thu Mar 28 14:00:22 CST 2019]; root of context hierarchy
2019-03-28 14:00:23 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[INFO] - Started RequiredTransExceptionTest in 1.478 seconds (JVM running for 2.375)
2019-03-28 14:00:23 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredTransException.requireCatchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 14:00:23 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 14:00:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@777970377 wrapping com.mysql.jdbc.JDBC4Connection@55a609dd] for JDBC transaction
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@777970377 wrapping com.mysql.jdbc.JDBC4Connection@55a609dd] to manual commit
2019-03-28 14:00:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 14:00:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating transaction failed - marking existing transaction as rollback-only
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Setting JDBC transaction [HikariProxyConnection@777970377 wrapping com.mysql.jdbc.JDBC4Connection@55a609dd] rollback-only
2019-03-28 14:00:24 [com.tuowazi.tranaction.service.exception.RequiredTransException]-[ERROR] - catch exception
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Global transaction is marked as rollback-only but transactional code requested commit
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@777970377 wrapping com.mysql.jdbc.JDBC4Connection@55a609dd]
2019-03-28 14:00:24 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@777970377 wrapping com.mysql.jdbc.JDBC4Connection@55a609dd] after transaction
2019-03-28 14:00:24 [com.tuowazi.tranaction.service.RequiredTransExceptionTest]-[ERROR] - Transaction rolled back because it has been marked as rollback-only
2019-03-28 14:00:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 14:00:24 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 14:00:24 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@632ceb35: startup date [Thu Mar 28 14:00:22 CST 2019]; root of context hierarchy
2019-03-28 14:00:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 14:00:24 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 14:09:02 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest], using SpringBootContextLoader
2019-03-28 14:09:02 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 14:09:02 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 14:09:02 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 14:09:03 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Starting RequiredNewTransExceptionTest on zhenyu-All-Series with PID 20946 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 14:09:03 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 14:09:03 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@14fc1f0: startup date [Thu Mar 28 14:09:03 CST 2019]; root of context hierarchy
2019-03-28 14:09:05 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Started RequiredNewTransExceptionTest in 2.95 seconds (JVM running for 4.732)
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredNewTransException.outerException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 14:09:06 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 14:09:06 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656] for JDBC transaction
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656] to manual commit
2019-03-28 14:09:06 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction, creating new transaction with name [com.tuowazi.tranaction.service.trans.RequiredNewTrans.noException]
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5] for JDBC transaction
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5] to manual commit
2019-03-28 14:09:06 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5]
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5] after transaction
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656]
2019-03-28 14:09:06 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@238169801 wrapping com.mysql.jdbc.JDBC4Connection@7acfb656] after transaction
2019-03-28 14:09:06 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[ERROR] - requiredNewTransException.outerException
2019-03-28 14:09:06 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 14:09:06 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 14:09:06 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@14fc1f0: startup date [Thu Mar 28 14:09:03 CST 2019]; root of context hierarchy
2019-03-28 14:09:06 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 14:09:06 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 14:10:27 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest], using SpringBootContextLoader
2019-03-28 14:10:27 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 14:10:27 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 14:10:27 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 14:10:27 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Starting RequiredNewTransExceptionTest on zhenyu-All-Series with PID 21116 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 14:10:27 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 14:10:27 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 14:10:27 CST 2019]; root of context hierarchy
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Started RequiredNewTransExceptionTest in 1.718 seconds (JVM running for 3.002)
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredNewTransException.innerException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 14:10:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 14:10:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1790430792 wrapping com.mysql.jdbc.JDBC4Connection@2c6aed22] for JDBC transaction
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1790430792 wrapping com.mysql.jdbc.JDBC4Connection@2c6aed22] to manual commit
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'dick' )
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction, creating new transaction with name [com.tuowazi.tranaction.service.trans.RequiredNewTrans.throwException]
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5] for JDBC transaction
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5] to manual commit
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5]
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1315908533 wrapping com.mysql.jdbc.JDBC4Connection@21e20ad5] after transaction
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1790430792 wrapping com.mysql.jdbc.JDBC4Connection@2c6aed22]
2019-03-28 14:10:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1790430792 wrapping com.mysql.jdbc.JDBC4Connection@2c6aed22] after transaction
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[ERROR] - requiredNewTransException.innerException
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 14:10:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 14:10:29 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 14:10:27 CST 2019]; root of context hierarchy
2019-03-28 14:10:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 14:10:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 14:11:27 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest], using SpringBootContextLoader
2019-03-28 14:11:27 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 14:11:27 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 14:11:27 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@23e84203, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19932c16, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73eb439a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@514646ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@305ffe9e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@302c971f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1972e513, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@61c4eee0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6f10d5b6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1040be71]
2019-03-28 14:11:27 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Starting RequiredNewTransExceptionTest on zhenyu-All-Series with PID 21211 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 14:11:27 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 14:11:27 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@4ae9cfc1: startup date [Thu Mar 28 14:11:27 CST 2019]; root of context hierarchy
2019-03-28 14:11:28 [com.tuowazi.tranaction.service.RequiredNewTransExceptionTest]-[INFO] - Started RequiredNewTransExceptionTest in 1.633 seconds (JVM running for 2.554)
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.RequiredNewTransException.innerException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 14:11:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 14:11:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@1014508942 wrapping com.mysql.jdbc.JDBC4Connection@572e6fd9] for JDBC transaction
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@1014508942 wrapping com.mysql.jdbc.JDBC4Connection@572e6fd9] to manual commit
2019-03-28 14:11:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Participating in existing transaction
2019-03-28 14:11:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'dick' )
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Suspending current transaction, creating new transaction with name [com.tuowazi.tranaction.service.trans.RequiredNewTrans.throwException]
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@4248b963] for JDBC transaction
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@4248b963] to manual commit
2019-03-28 14:11:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction rollback
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back JDBC transaction on Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@4248b963]
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@913450862 wrapping com.mysql.jdbc.JDBC4Connection@4248b963] after transaction
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Resuming suspended transaction after completion of inner transaction
2019-03-28 14:11:29 [com.tuowazi.tranaction.service.exception.RequiredNewTransException]-[ERROR] - requiredNewTrans.throwException("bob");
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@1014508942 wrapping com.mysql.jdbc.JDBC4Connection@572e6fd9]
2019-03-28 14:11:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@1014508942 wrapping com.mysql.jdbc.JDBC4Connection@572e6fd9] after transaction
2019-03-28 14:11:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 14:11:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 14:11:29 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@4ae9cfc1: startup date [Thu Mar 28 14:11:27 CST 2019]; root of context hierarchy
2019-03-28 14:11:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 14:11:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 14:12:34 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.TransCallTransTest], using SpringBootContextLoader
2019-03-28 14:12:34 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.TransCallTransTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 14:12:35 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 14:12:35 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 14:12:36 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - Starting TransCallTransTest on zhenyu-All-Series with PID 21378 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 14:12:36 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 14:12:36 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 14:12:36 CST 2019]; root of context hierarchy
2019-03-28 14:12:42 [com.tuowazi.tranaction.service.TransCallTransTest]-[INFO] - Started TransCallTransTest in 6.998 seconds (JVM running for 9.568)
2019-03-28 14:12:42 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.TransCallTransServiceImpl.callNested]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 14:12:42 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 14:12:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@541135648 wrapping com.mysql.jdbc.JDBC4Connection@2b5183ec] for JDBC transaction
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@541135648 wrapping com.mysql.jdbc.JDBC4Connection@2b5183ec] to manual commit
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating nested transaction with name [com.tuowazi.tranaction.service.TransServiceImpl.nestedTrans]
2019-03-28 14:12:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'marry' )
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing transaction savepoint
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@541135648 wrapping com.mysql.jdbc.JDBC4Connection@2b5183ec]
2019-03-28 14:12:43 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@541135648 wrapping com.mysql.jdbc.JDBC4Connection@2b5183ec] after transaction
2019-03-28 14:12:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 14:12:43 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 14:12:43 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5a2d131d: startup date [Thu Mar 28 14:12:36 CST 2019]; root of context hierarchy
2019-03-28 14:12:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 14:12:43 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
2019-03-28 14:17:23 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.tuowazi.tranaction.service.NestedTransExceptionTest], using SpringBootContextLoader
2019-03-28 14:17:23 [org.springframework.test.context.support.AbstractContextLoader]-[INFO] - Could not detect default resource locations for test class [com.tuowazi.tranaction.service.NestedTransExceptionTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2019-03-28 14:17:24 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-03-28 14:17:24 [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]-[INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d60fe40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@792b749c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23e84203, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@19932c16, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73eb439a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@514646ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@305ffe9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@302c971f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1972e513, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7ae0a9ec, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@35841320, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61c4eee0]
2019-03-28 14:17:25 [com.tuowazi.tranaction.service.NestedTransExceptionTest]-[INFO] - Starting NestedTransExceptionTest on zhenyu-All-Series with PID 21699 (started by zhenyu in /home/zhenyu/git/Demo/spring/transaction)
2019-03-28 14:17:25 [com.tuowazi.tranaction.service.NestedTransExceptionTest]-[INFO] - No active profile set, falling back to default profiles: default
2019-03-28 14:17:25 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@14fc1f0: startup date [Thu Mar 28 14:17:25 CST 2019]; root of context hierarchy
2019-03-28 14:17:28 [com.tuowazi.tranaction.service.NestedTransExceptionTest]-[INFO] - Started NestedTransExceptionTest in 4.46 seconds (JVM running for 6.581)
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating new transaction with name [com.tuowazi.tranaction.service.exception.NestedTransException.catchException]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2019-03-28 14:17:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Starting...
2019-03-28 14:17:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Start completed.
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Acquired Connection [HikariProxyConnection@626941486 wrapping com.mysql.jdbc.JDBC4Connection@12abdfb] for JDBC transaction
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Switching JDBC Connection [HikariProxyConnection@626941486 wrapping com.mysql.jdbc.JDBC4Connection@12abdfb] to manual commit
2019-03-28 14:17:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'john' )
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Creating nested transaction with name [com.tuowazi.tranaction.service.trans.NestedTrans.throwException]
2019-03-28 14:17:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.insert:insert into tx_user (username) values( 'bob' )
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Rolling back transaction to savepoint
2019-03-28 14:17:29 [com.tuowazi.tranaction.service.exception.NestedTransException]-[ERROR] - catch exception
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Initiating transaction commit
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Committing JDBC transaction on Connection [HikariProxyConnection@626941486 wrapping com.mysql.jdbc.JDBC4Connection@12abdfb]
2019-03-28 14:17:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager]-[DEBUG] - Releasing JDBC Connection [HikariProxyConnection@626941486 wrapping com.mysql.jdbc.JDBC4Connection@12abdfb] after transaction
2019-03-28 14:17:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.selectAll:select username from tx_user
2019-03-28 14:17:29 [com.tuowazi.tranaction.service.interceptor.MyBatisLogInterceptor]-[WARN] - com.tuowazi.tranaction.mapper.UserMapper.deleteAll:delete from tx_user
2019-03-28 14:17:29 [org.springframework.context.annotation.AnnotationConfigApplicationContext]-[INFO] - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@14fc1f0: startup date [Thu Mar 28 14:17:25 CST 2019]; root of context hierarchy
2019-03-28 14:17:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown initiated...
2019-03-28 14:17:29 [com.zaxxer.hikari.HikariDataSource]-[INFO] - HikariPool-1 - Shutdown completed.
